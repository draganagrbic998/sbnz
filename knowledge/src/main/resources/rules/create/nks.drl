package rules
import com.example.demo.model.BillType
import com.example.demo.rules.BillRequest
import com.example.demo.rules.BillResponse
import com.example.demo.service.NksValuesService

global NksValuesService nksValuesService


rule "NKS of 1.5% - RSD"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.RSD,
	    	months > nksValuesService.monthsRate(1, BillType.RSD) ||
	    	base / months > nksValuesService.baseRate(1, BillType.RSD)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.5)}
        
end

rule "NKS of 1.5% - EUR"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.EUR,
	    	months > nksValuesService.monthsRate(1, BillType.EUR) ||
	    	base / months > nksValuesService.baseRate(1, BillType.EUR)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.5)}
        
end

rule "NKS of 1.5% - USD"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.USD,
	    	months > nksValuesService.monthsRate(1, BillType.USD) ||
	    	base / months > nksValuesService.baseRate(1, BillType.USD)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.5)}
        
end

rule "NKS of 1.5% - CHF"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.CHF,
	    	months > nksValuesService.monthsRate(1, BillType.CHF) ||
	    	base / months > nksValuesService.baseRate(1, BillType.CHF)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.5)}
        
end

rule "NKS of 1.5% - GBP"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.GBP,
	    	months > nksValuesService.monthsRate(1, BillType.GBP) ||
	    	base / months > nksValuesService.baseRate(1, BillType.GBP)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.5)}
        
end

rule "NKS of 1.2% - RSD"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.RSD,
	    	months > nksValuesService.monthsRate(2, BillType.RSD) ||
	    	base / months > nksValuesService.baseRate(2, BillType.RSD)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.2)}
        
end

rule "NKS of 1.2% - EUR"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.EUR,
	    	months > nksValuesService.monthsRate(2, BillType.EUR) ||
	    	base / months > nksValuesService.baseRate(2, BillType.EUR)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.2)}
        
end

rule "NKS of 1.2% - USD"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.USD,
	    	months > nksValuesService.monthsRate(2, BillType.USD) ||
	    	base / months > nksValuesService.baseRate(2, BillType.USD)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.2)}
        
end

rule "NKS of 1.2% - CHF"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.CHF,
	    	months > nksValuesService.monthsRate(2, BillType.CHF) ||
	    	base / months > nksValuesService.baseRate(2, BillType.CHF)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.2)}
        
end

rule "NKS of 1.2% - GBP"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.GBP,
	    	months > nksValuesService.monthsRate(2, BillType.GBP) ||
	    	base / months > nksValuesService.baseRate(2, BillType.GBP)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.2)}
        
end

rule "NKS of 1.0% - RSD"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.RSD,
	    	months > nksValuesService.monthsRate(3, BillType.RSD) ||
	    	base / months > nksValuesService.baseRate(3, BillType.RSD)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.0)}
        
end

rule "NKS of 1.0% - EUR"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.EUR,
	    	months > nksValuesService.monthsRate(3, BillType.EUR) ||
	    	base / months > nksValuesService.baseRate(3, BillType.EUR)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.0)}
        
end

rule "NKS of 1.0% - USD"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.USD,
	    	months > nksValuesService.monthsRate(3, BillType.USD) ||
	    	base / months > nksValuesService.baseRate(3, BillType.USD)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.0)}
        
end

rule "NKS of 1.0% - CHF"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.CHF,
	    	months > nksValuesService.monthsRate(3, BillType.CHF) ||
	    	base / months > nksValuesService.baseRate(3, BillType.CHF)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.0)}
        
end

rule "NKS of 1.0% - GBP"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.GBP,
	    	months > nksValuesService.monthsRate(3, BillType.GBP) ||
	    	base / months > nksValuesService.baseRate(3, BillType.GBP)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(1.0)}
        
end

rule "NKS of 0.8% - RSD"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.RSD,
	    	months > nksValuesService.monthsRate(4, BillType.RSD) ||
	    	base / months > nksValuesService.baseRate(4, BillType.RSD)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(0.8)}
        
end

rule "NKS of 0.8% - EUR"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.EUR,
	    	months > nksValuesService.monthsRate(4, BillType.EUR) ||
	    	base / months > nksValuesService.baseRate(4, BillType.EUR)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(0.8)}
        
end

rule "NKS of 0.8% - USD"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.USD,
	    	months > nksValuesService.monthsRate(4, BillType.USD) ||
	    	base / months > nksValuesService.baseRate(4, BillType.USD)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(0.8)}
        
end

rule "NKS of 0.8% - CHF"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.CHF,
	    	months > nksValuesService.monthsRate(4, BillType.CHF) ||
	    	base / months > nksValuesService.baseRate(4, BillType.CHF)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(0.8)}
        
end

rule "NKS of 0.8% - GBP"
	agenda-group "create-rules"

    when
    	BillRequest(
	    	type == BillType.GBP,
	    	months > nksValuesService.monthsRate(4, BillType.GBP) ||
	    	base / months > nksValuesService.baseRate(4, BillType.GBP)
    	)
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(0.8)}
        
end

rule "NKS of 0.5%"
	agenda-group "create-rules"

    when
		$response: BillResponse(valid, nks == null)
    then
    	modify($response){setNks(0.5)}
        
end
