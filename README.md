<h1>Експертски систем за коришћење штедних рачуна</h1>

<h2>Мотивација</h2>
Са наглим порастом броја банака и различитих врста штедњи у њима, расте све више и збуњеност просечног човека које се на саму штедњу одлучи. Банкарске куће полазе од тога да своју политику и услове штедњи пресликају на низ табела које ће у зависности од периода орочења дефинисати различите каматне стопе. Међутим, питање је колико се лако особа може снаћи у том изобиљу понуда, поготово ако није упућена у богату банкарску терминологију. Просечан корисник, када се одлучи за штедњу у банци, размишља само у терминима количине новца коју може да уложи, као и оквирног периода на који би желио да орочи штедњу. За њега појмови минималне/максималне главнице и вредности ефективне и номиналне каматне стопе за унапред дефинисан период орочења могу бити фрустрирајући. Било би добро када би сам корисник могао да дефинише колико би новца могао да орочи и на колики период орочења, а да му потом банка одговори да ли може успоставити одговарајући уговор за унете параметре и, ако може, да му представи услове које би могао остварити.
<br><br>
Овакав принцип подношења захтева за отварањем штедног рачуна инверзан је класичном. Класичан метод полази од тога да банка изда листу табела које корисник пажљиво прегледа и потом се одлучи за колону која му највише одговара. Инверзан принцип полази од тога да сам корисник бира период орочења који му највише одговара и количину новца коју може да заложи, а потом му банка враћа одговор о томе да ли је могуће остварити право на штедњу за унете параметре и какве услове штедње би могао добити. Подразумева се, наравно, да банка може и одбити предложене услове штедње од стране корисника. Међутим, ако се то и деси, корисник ће бити свестан потребне корекције и размислиће о новом захтеву. Наш циљ биће управо имплементација система који ће користити експерстко знање из домена банкарских штедних рачуна како би омогућио фликсибилиније отварање штедног рачуна.

<h2>Опис проблема</h2>
Главни циљ имплементације система јесте могућност подношења захтева за динарским или девизним рачуном од стране регистрованог корисника, при чему се омогућава кориснику да дефинише услове који му највише одговарају, а потом се обавештава да ли их је могуће остварити и, ако јесте, које вредности каматних стопа би његов штедни рачун имао.
<br><br>
Поред подношења захтева за отварањем новог штедног рачуна, кориснику ће бити омогућен и увид у све претходно отворене штедне рачуне, повлачење и доплата новца са њих, продужење орочења и превремено гашење. Притом, проверавала би се задовољеност услова када је те акције могуће извршити и вршила корекција главнице и каматне стопе када је то потребно.
<br><br>
Такође, идеја је у систем укљућити и праћење ранијих активности корисника, како би му се омогућиле евентуалне повластице. На пример, када се корисник одлучи на отварање новог штедног рачуна, биће награђен ако је дужи период клијент банке, ако није са великом учесталошћу превремено гасио рачуне, није често повлачио новац са штедних рачуна пре истека орочења итд. На основу тога, систем ће приликом отварања штедног рачуна одредити број поена који може имати утицаја приликом рачунања ефективне каматне стопе. Већи број поена значиће виша каматна стопа.

<h2>Методологија рада</h2>
Апликација познаје три врсте корисника:
<ul>
	<li>
	Администратор
	</li>
	<li>
	Службеник
	</li>
	<li>
	Клијент
	</li>
</ul>
Администратору су доступне следеће акције:
<ul>
	<li>
	пријава
	</li>
	<li>
	промена лозинке
	</li>
	<li>
	преглед, пагинација и претрага свих регистрованих корисника (администратора, службеника и клијената)
	</li>
	<li>
	регистрација новог службеника
	</li>
	<li>
	измена постојећег службеника
	</li>
	<li>
	брисање постојећег службеника
	</li>
	<li>
	увид у извештај - број активних и  број затворених штедних рачуна, удео превремо угашених рачуна, број корисника динарских и број корисника девизних рачуна, просечан 		износ главнице, просена дужина орочења, просечна висина доплата и повлачења новца са рачуна, број продужених орочења
	</li>
</ul>
Службенику су доступне следеће акције:
<ul>
	<li>
	пријава
	</li>
	<li>
	промена лозинке
	</li>
	<li>
	преглед, пагинација и претрага свих отворених клијентских налога, односно рачуна (мисли се на главни рачун у банци, не на штедне рачуне, њима има приступ само власник 		рачуна)
	</li>
	<li>
	отварање новог налога у банци
	</li>
	<li>
	измена постојећег налога у банци
	</li>
	<li>
	брисање налога за које није везан ниједан активан штедни рачун (активан штедни рачун је рачун којем још увек није истекао период орочења)
	</li>
</ul>
Клијенту су доступне следеће акције:
<ul>
	<li>
	пријава
	</li>
	<li>
	промена лозинке
	</li>
	<li>
	преглед отвореног налога у банци
	</li>
	<li>
	преглед, пагинација и претрага свих отворених динарских и девизних штедних рачуна
	</li>
	<li>
	слање захтева за отварањем штедног рачуна са одабраном главницом и периодом орочења
	</li>
	<li>
	прихватање понуђених услова као одговор на захтев и отварање новог динарског или девизног штедног рачуна (приликом отварања штедног рачуна, износ на главном рачуну се 		умањује за одабрану главницу)
	</li>
	<li>
	доплата новца на активни штедни рачун (подразумева проверу услова, умањење износа на главном рачуну за одабрану суму и корекцију главнице и ефективне каматне стопе)
	</li>
	<li>
	повлачење новца са активног штедног рачуна (подразумева проверу услова и увећање износа на главном рачуну за одабрану суму)
	</li>
	<li>
	продужетак орочења штедног рачуна (подразумева проверу услова и корекцију каматне стопе)
	</li>
	<li>
	превремено гашење штедног рачуна (подразумева проверу услова за гашење рачуна)
	</li>
	<li>
	преглед претходно извршених трансакција (доплата, повлачење новца) за одабран рачун
	</li>
	<li>
	преглед претходних продужења орочења за одабран рачун
	</li>
</ul>
Идентификоване класе и зависност између њих приказани су на клас дијаграму. Класа <b>User</b> представља апстракцију све три врсте корисника. Класа <b>Authority</b> служи за регистрацију корисничких улога (у нашем случају то су администратор, службеник и клијент). Класа <b>Account</b> представља налог отворен у банци, односно главни клијентски рачун. Са њега се преузимају средства потребна за отварање штедних рачуна и евентуалне касније доплате. Такође, на њега се пребацује новац приликом повлачења новца са штедног рачуна. Класа <b>Bill</b> представља апстракцију динарског или девизног рачуна (тип рачуна одређен је пољем type). Класа <b>Transaction</b> представља запис у систему када је извршена одговарајућа доплата или повлачење новца са штедног рачуна. Класа <b>Renewal</b> представља запис у систему када је извршен продужетак орочења рачуна.
<br><br>
<div align="center">
  <img src="https://github.com/draganagrbic998/sbnz/blob/main/class.png" alt="drawing"/>
</div>

<h2>База знања</h2>
Базу знања система чини пет група правила. То су правила која дефинишу политику отварања штедног рачуна, располагања средствима штедног рачуна, уплате средстава, продужења орочења и гашења рачуна.

<h3>1. Правила за отварање штедног рачуна</h3>
Група правила која дефинишу предуслове отварања штедног рачуна и начине на који се рачунају каматне стопе које ће се користити приликом месечног обрачуна средстава.
<h4>А. Противуслови отварања штедног рачуна</h4>
Правила која дефинишу недозвољене ситуације приликом захтева за отварањем рачуна. Уколико је барем једна од ситуација задовољена, отварање рачуна биће спречено.
<h5>Отварање штедног рачуна је онемогућено у следећим случајевима:</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун и број месеци мањи од 3.
	</li>
  	<li>	
	Корисник је одабрао динарски рачун и број месеци већи од 42.
  	</li>
  	<li>
	Корисник је одабрао девизни рачун и број месеци мањи од 1.
 	</li>
 	<li>
	Корисник је одабрао девизни рачун и број месеци већи од 36.
	</li>
	<li>
	Корисник је одабрао динарски рачун и главницу мању од 1.000 РСД.
   	</li>
   	<li>
	Корисник је одабрао динарски рачун и главницу већу од 1.000.000 РСД.
  	</li>
   	<li>
	Корисник је одабрао девизни рачун и главницу мању од 500 јединица одабране валуте.
   	</li>
   	<li>
	Корисник је одабрао девизни рачун и главницу већу од 100.000 јединица одабране валуте.
   	</li>
	<li>
	Корисник је одабрао динарски рачун, а већ поседује 5 активних динарских рачуна.
   	</li>
   	<li>
	Корисник је одабрао девизни рачун, а већ поседује 3 активна девизна рачуна.
   	</li>
   	<li>
   	Корисник је одабрао динарски рачун и главницу која није већа барем за 200 РСД од средстава на главном рачуну.
   	</li>
   	<li>
   	Корисник је одабрао девизни рачун и главницу која није већа барем за 1000 РСД од средстава на главном рачуну.
   	</li>
   	<li>
	Корисник је одабрао динарски рачун и број месеци мањи од 6, а претходно није користио динарске рачуне.
  	</li>
  	<li>
	Корисник је одабрао девизни рачун и број месеци мањи од 3, а претходно није користио девизне рачуне.
  	</li>
</ul>

<h4>Б. Правила за рачунање номиналне каматне стопе</h4>
Номинална каматна стопа служи за рачунање каматне стопе која се користи приликом месечног обрачуна средстава на рачуну. Рачуна се посебно за сваку валуту и одабран период орочења.
<h5>Камата износи 1.5%</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун и број месеци већи од 20.
	</li>
	<li>
	Корисник је одабрао девизни рачун у еврима и број месеци већи од 30.
	</li>
	<li>
	Корисник је одабрао девизни рачун у америчким доларима и број месеци већи од 27.
	</li>
	<li>
	Корисник је одабрао девизни рачун у швајцарским францима и број месеци већи од 30.
	</li>
	<li>
	Корисник је одабрао девизни рачун у британским фунтама и број месеци већи од 33.
	</li>
	<li>
	Корисник је одабрао девизни рачун у руским динарима и број месеци већи од 24.
	</li>
</ul>
<h5>Камата износи 1.2%</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун и број месеци већи од 15.
	</li>
	<li>
	Корисник је одабрао девизни рачун у еврима и број месеци већи од 15.
	</li>
	<li>
	Корисник је одабрао девизни рачун у америчким доларима и број месеци већи од 18.
	</li>
	<li>
	Корисник је одабрао девизни рачун у швајцарским францима и број месеци већи од 18.
	</li>
	<li>
	Корисник је одабрао девизни рачун у британским фунтама и број месеци већи од 18.
	</li>
	<li>
	Корисник је одабрао девизни рачун у руским динарима и број месеци већи од 15.
	</li>
</ul>
<h5>Камата износи 1.0%</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун и број месеци већи од 8.
	</li>
	<li>
	Корисник је одабрао девизни рачун у еврима и број месеци већи од 9.
	</li>
	<li>
	Корисник је одабрао девизни рачун у америчким доларима и број месеци већи од 9.
	</li>
	<li>
	Корисник је одабрао девизни рачун у швајцарским францима и број месеци већи од 7.
	</li>
	<li>
	Корисник је одабрао девизни рачун у британским фунтама и број месеци већи од 10.
	</li>
	<li>
	Корисник је одабрао девизни рачун у руским динарима и број месеци већи од 10.
	</li>
</ul>
<h5>Камата износи 0.8%</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун и број месеци већи од 5.
	</li>
	<li>
	Корисник је одабрао девизни рачун у еврима и број месеци већи од 3.
	</li>
	<li>
	Корисник је одабрао девизни рачун у америчким доларима и број месеци већи од 4.
	</li>
	<li>
	Корисник је одабрао девизни рачун у швајцарским францима и број месеци већи од 3.
	</li>
	<li>
	Корисник је одабрао девизни рачун у британским фунтама и број месеци већи од 6.
	</li>
	<li>
	Корисник је одабрао девизни рачун у руским динарима и број месеци већи од 7.
	</li>
</ul>
<h5>Камата износи 0.5%</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун и број месеци не већи од 5.
	</li>
	<li>
	Корисник је одабрао девизни рачун у еврима и број месеци не већи од 3.
	</li>
	<li>
	Корисник је одабрао девизни рачун у америчким доларима и број месеци не већи од 4.
	</li>
	<li>
	Корисник је одабрао девизни рачун у швајцарским францима и број месеци не већи од 3.
	</li>
	<li>
	Корисник је одабрао девизни рачун у британским фунтама и број месеци не већи од 6.
	</li>
	<li>
	Корисник је одабрао девизни рачун у руским динарима и број месеци не већи од 7.
	</li>
</ul>

<h4>В. Правила за рачунање бонус поена</h4>
Поред номиналне каматне стопе, у систем је укључена и могућност коришћења повластица - повољније камате уколико је корисник високо бодован, односно забележен као квалитетан клијент. За сваку подгрупу правила довољно је да је један од услова задовољен.
<h5>10 поена</h5>
<ul>
	<li>
	Корисник има отворен рачун у банци барем 10 година.
	</li>
	<li>
	Корисник нема забележено ниједно превремено затварање штедног рачуна.
	</li>
	<li>
	Корисник нема забележену ниједну доплату на штедни рачун.
	</li>
	<li>
	Корисник нема забележено ниједно повлачење новца са штедног рачуна.
	</li>
	<li>
	Кориснику је забележено правовремено затварање барем 5 динарских рачуна на барем 10 месеци.
	</li>
	<li>
	Кориснику је забележено правовремено затварање барем 3 девизна рачуна на барем 7 месеци.
	</li>
</ul>
<h5>5 поена</h5>
<ul>
	<li>
	Корисник има отворен рачун у банци барем 5 година.
	</li>
	<li>
	Корисник има забележено 1 превремено затварање штедног рачуна.
	</li>
	<li>
	Корисник има забежелену 1 доплату на штедни рачун.
	</li>
	<li>
	Корисник има забележено 1 повлачење новца са штедног рачуна.
	</li>
	<li>
	Кориснику је забележено правовремено затварање барем 3 динарска рачуна на барем 6 месеци.
	</li>
	<li>
	Кориснику је забележено правовремено затварање барем 2 девизна рачуна на барем 5 месеци.
	</li>
</ul>
<h5>4 поена</h5>
<ul>
	<li>
	Корисник има отворен рачун у банци барем 4 године.
	</li>
	<li>
	Корисник има забележена 2 превремена затварања штедног рачуна.
	</li>
	<li>
	Корисник има забежелене 2 доплате на штедни рачун.
	</li>
	<li>
	Корисник има забележена 2 повлачења новца са штедног рачуна.
	</li>
	<li>
	Кориснику је забележено правовремено затварање барем 2 динарска рачуна на барем 6 месеци.
	</li>
	<li>
	Кориснику је забележено правовремено затварање барем 2 девизна рачуна на барем 4 месеци.
	</li>
</ul>
<h5>3 поена</h5>
<ul>
	<li>
	Корисник има отворен рачун у банци барем 3 годинe.
	</li>
	<li>
	Корисник има забележена 3 превремена затварања штедног рачуна.
	</li>
	<li>
	Корисник има забежелене 3 доплате на штедни рачун.
	</li>
	<li>
	Корисник има забележена 3 повлачења новца са штедног рачуна.
	</li>
	<li>
	Кориснику је забележено правовремено затварање барем 1 динарског рачуна на дуже од 6 месеци.
	</li>
	<li>
	Кориснику је забележено правовремено затварање барем 1 девизног рачуна на дуже од 4 месеца.
	</li>
</ul>
<h5>1 поен</h5>
<ul>
	<li>
	Корисник има отворен рачун у банци барем 1 годину.
	</li>
	<li>
	Корисник има забележена 4 превремена затварања штедног рачуна.
	</li>
	<li>
	Корисник има забежелене 4 доплате на штедни рачун.
	</li>
	<li>
	Корисник има забележена 4 повлачења новца са штедног рачуна.
	</li>
	<li>
	Кориснику је забележено правовремено затварање барем 1 динарског рачуна на дуже од 4 месеца.
	</li>
	<li>
	Кориснику је забележено правовремено затварање барем 1 девизног рачуна на дуже од 2 месеца.
	</li>
</ul>

<h4>Г. Правила за рачунање ефективне каматне стопе</h4>
Ефективна каматна стопа представља коначну каматну стопу која се користи приликом месечног обрачуна средстава на штедном рачуну. Представља проценат номиналне каматне стопе и рачуна се на основу поена клијента и статуса претходно отворених рачуна. За сваку подгрупу правила довољно је да је један од услова задовољен.
<h5>Камата износи 100%</h5>
<ul>
	<li>
	Корисник је бодован са 10 поена.
	</li>
	<li>
	Корисник отвара први динарски рачун.
	</li>
	<li>
	Корисник отвара први девизни рачун.
	</li>
</ul>
<h5>Камата износи 98%</h5>
<ul>
	<li>
	Корисник је бодован са 5 поена.
	</li>
	<li>
	Корисник отвара други динарски рачун, али је први истекао.
	</li>
	<li>
	Корисник отвара други девизни рачун, али је први истекао.
	</li>
</ul>
<h5>Камата износи 95%</h5>
<ul>
	<li>
	Корисник је бодован са 4 поена.
	</li>
	<li>
	Корисник отвара други динарски рачун, али је први још увек активан или превремено затворен.
	</li>
	<li>
	Корисник отвара други девизни рачун, али је први још увек активан или превремено затворен.
	</li>
</ul>
<h5>Камата износи 90%</h5>
<ul>
	<li>
	Корисник је бодован са 3 поена.
	</li>
	<li>
	Корисник отвара трећи динарски рачун, али су оба претходна истекла.
	</li>
	<li>
	Корисник отвара трећи девизни рачун, али су оба претходна истекла.
	</li>
</ul>
<h5>Камата износи 87%</h5>
<ul>
	<li>
	Корисник је бодован са 1 поена.
	</li>
	<li>
	Корисник отвара трећи динарски рачун, али бар један од претходна два је активан или превремено затворен.
	</li>
	<li>
	Корисник отвара трећи девизни рачун, али бар један од претходна два је активан или превремено затворен.
	</li>
</ul>
<h5>Камата износи 85%</h5>
<ul>
	<li>
	Корисник је бодован са 0 поена.
	</li>
	<li>
	Корисник отвара динарски рачун, а већ поседује барем 3 динарска рачуна.
	</li>
	<li>
	Корисник отвара девизни рачун, а већ поседује барем 3 девизна рачуна.
	</li>
</ul>

<h4>Д. Дијаграм повезивања правила за отварање штедног рачуна</h4>
Групу правила за отварање штедног рачуна чини четири слоја - слој за откривање недозвољених ситуација, слој за рачунање номиналне каматне стопе, слој за рачунање бонус поена и слој за рачунање ефективне каматне стопе. Правила се повезују редоследом којим су наведени, што се види на слици испод. Наиме, прво се извршавају правила која откривају недозвољене ситуације. Затим, ако се није десила ниједна недозвољена ситуација, позивају се правила за рачунање номиналне каматне стопе. Након тога, позивају се правила за рачунање бонус поена, и на крају се рачуна ефективна каматна стопа. Излаз из ова четири слоја представљају израчунате вредности номиналне и ефективне каматне стопе и бонус поени клијента, уколико се није десила нека забрањена ситуација. Уколико се пак десила, одговарајућа порука се приказује кориснику. У супротном, обавештава се о каматним стопама које би његов рачун имао и даје могућност да предложене услове прихати, или пак одбије.
<br><br>
<div align="center">
  <img src="https://github.com/draganagrbic998/sbnz/blob/main/diagram1.png" alt="drawing"/>
</div>

<h3>2. Правила за располагање средствима на штедном рачуну током трајања орочења</h3>
Правила која дефинишу недозвољене ситуације приликом захтева за повлачењем средстава са штедног рачуна. Уколико је барем једна од ситуација задовољена, повлачење новца биће спречено.
<h4>А. Противуслови за располагањем средствима</h4>
<h5>Располагање средствима је онемогућено у следећим случајевима:</h5>
<ul>
	<li>
	Корисник има отворен рачун у банци мање од годину дана.
	</li>
	<li>
	Прошло је мање од 10% периода орочења.
	</li>
	<li>
	Прошло је више од 90% периода орочења.
	</li>
	<li>
	Корисник је одабрао износ који је мањи од 5% износа на штедном рачуну.
	</li>
	<li>
	Корисник је одабрао износ који је већи од 40% износа на штедном рачуну.
	</li>
	<li>
	Корисник је одабрао једини активни динарски рачун.
	</li>
	<li>
	Корисник је одабрао једини активни девизни рачун.
	</li>
	<li>
	Корисник је одабрао динарски рачун, а већ му је забележено 4 повлачења са тог рачуна.
	</li>
	<li>
	Корисник је одабрао девизни рачун, а већ му је забележено 2 повлачења са тог рачуна.
	</li>
</ul>
<h5>Онемогућено је повлачење више од 32.5% износа на штедном рачуну током периода орочења уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун са главницом већом од 250000 РСД.
	</li>
	<li>
	Корисник је одабрао девизни рачун са главницом већом од 2500 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабрао динарски рачун и поседује више од 2 активна динарска рачуна.
	</li>
	<li>
	Корисник је одабрао девизни рачун и поседује више од 3 активнa девизнa рачуна.
	</li>
</ul>
<h5>Онемогућено је повлачење више од 25% износа на штедном рачуну током периода орочења уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун са главницом већом од 175000 РСД.
	</li>
	<li>
	Корисник је одабрао девизни рачун са главницом већом од 1750 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабрао динарски рачун и поседује више од 3 активна динарска рачуна.
	</li>
	<li>
	Корисник је одабрао девизни рачун и поседује више од 4 активна девизна рачуна.
	</li>
</ul>
<h5>Онемогућено је повлачење више од 15% износа на штедном рачуну током периода орочења уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун са главницом већом од 125000 РСД.
	</li>
	<li>
	Корисник је одабрао девизни рачун са главницом већом од 1250 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабрао динарски рачун и поседује више од 4 активна динарска рачуна.
	</li>
	<li>
	Корисник је одабрао девизни рачун и поседује више од 5 активних девизних рачуна.
	</li>
</ul>

<h4>Б. Дијаграм повезивања правила за располагање средствима</h4>
Групу правила за располагање средствима рачуна чине два слоја - слој за откривање недозвољених ситуација и слој за обрачун средстава, односно повлачење новца са штедног рачуна. Први слој је описан претходним правилима и он позива други слој само ако се није десила нека недозвољена ситуација. Ако се десила, корисник се обавештава о грешци. У супротном, ивршава се други слој који умањује тренутни износ средстава на штедном рачуну и тај износ пребацује на главни рачун отворен у банци.
<br><br>
<div align="center">
  <img src="https://github.com/draganagrbic998/sbnz/blob/main/diagram2.png" alt="drawing"/>
</div>

<h3>3. Правила за уплату средстава на штедни рачун током трајања орочења</h3>
Група правила која дефинишу предуслове за уплату средстава на штедни рачун, као и начине корекције главнице и ефективне каматне стопе рачуна. 

<h4>А. Противуслови уплате средстава на штедни рачун</h4>
Правила која дефинишу недозвољене ситуације приликом захтева за уплатом средстава. Уколико је барем једна од ситуација задовољена, уплата ће бити спречена.

<h5>Уплата средстава је онемогућена у следећим случајевима:</h5>
<ul>
	<li>
	Корисник има отворен рачун у банци мање од годину дана.
	</li>
	<li>
	Прошло је мање од 5% периода орочења.
	</li>
	<li>
	Прошло је више од 95% периода орочења.
	</li>
	<li>
	Корисник је одабрао износ који је мањи од 10% износа на штедном рачуну.
	</li>
	<li>
	Корисник је одабрао износ који је већи од 30% износа на штедном рачуну.
	</li>
	<li>
	Корисник је одабрао динарски рачун са главницом мањом од 75000 РСД.
	</li>
	<li>
	Корисник је одабрао девизни рачун са главницом мањом од 750 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабрао динарски рачун, а већ му је забележено 3 уплате на тај рачун.
	</li>
	<li>
	Корисник је одабрао девизни рачун, а већ му је забележена 1 уплата на тај рачун.
	</li>
</ul>
<h5>Онемогућена је уплата више од 25% постојећег износа на штедном рачуну током периода орочења уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун са главницом већом од 200000 РСД.
	</li>
	<li>
	Корисник је одабрао девизни рачун са главницом већом од 2000 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабрао динарски рачун и поседује више од 2 активна динарска рачуна.
	</li>
	<li>
	Корисник је одабрао девизни рачун и поседује више од 1 активног девизног рачуна.
	</li>
</ul>
<h5>Онемогућена је уплата више од 20% постојећег износа на штедном рачуну током периода орочења уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун са главницом већом од 150000 РСД.
	</li>
	<li>
	Корисник је одабрао девизни рачун са главницом већом од 1500 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабрао динарски рачун и поседује више од 3 активна динарска рачуна.
	</li>
	<li>
	Корисник је одабрао девизни рачун и поседује више од 2 активна девизна рачуна.
	</li>
</ul>
<h5>Онемогућена је уплата више од 15% постојећег износа на штедном рачуну током периода орочења уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун са главницом већом од 100000 РСД.
	</li>
	<li>
	Корисник је одабрао девизни рачун са главницом већом од 1000 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабрао динарски рачун и поседује више од 4 активна динарска рачуна.
	</li>
	<li>
	Корисник је одабрао девизни рачун и поседује више од 3 активна девизна рачуна.
	</li>
</ul>
<h5>Онемогућена је уплата више од 12% постојећег износа на штедном рачуну током периода орочења уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарски рачун са главницом већом од 80000 РСД.
	</li>
	<li>
	Корисник је одабрао девизни рачун са главницом већом од 800 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабрао динарски рачун и поседује више од 5 активних динарских рачуна.
	</li>
	<li>
	Корисник је одабрао девизни рачун и поседује више од 4 активна девизна рачуна.
	</li>
</ul>

<h4>Б. Правила за корекцију главнице приликом уплате додатних средстава</h4>
Правила која дефинишу начин на који се коригује главница приликом уплате, у зависности од претходног стања рачуна и количине саме уплате. За сваку подгрупу правила довољно је да је један од услова задовољен.
<h5>Главница се увећава за 90% уплате</h5>
<ul>
	<li>
	Уплата износи више од 20% износа главнице.
	</li>
	<li>
	Стање на динарском рачуну износи више од 300000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 3000 јединица одабране валуте.
	</li>
</ul>
<h5>Главница се увећава за 80% уплате</h5>
<ul>
	<li>
	Уплата износи више од 14% износа главнице.
	</li>
	<li>
	Стање на динарском рачуну износи више од 250000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 2500 јединица одабране валуте.
	</li>
</ul>
<h5>Главница се увећава за 70% уплате</h5>
<ul>
	<li>
	Уплата износи више од 11% износа главнице.
	</li>
	<li>
	Стање на динарском рачуну износи више од 200000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 2000 јединица одабране валуте.
	</li>
</ul>
<h5>Главница се увећава за 60% уплате</h5>
<ul>
	<li>
	Уплата износи више од 8% износа главнице.
	</li>
	<li>
	Стање на динарском рачуну износи више од 150000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 1500 јединица одабране валуте.
	</li>
</ul>
<h5>Главница се увећава за 50% уплате</h5>
<ul>
	<li>
	Уплата износи не више од 8% износа главнице.
	</li>
	<li>
	Стање на динарском рачуну износи не више од 150000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи не више од 1500 јединица одабране валуте.
	</li>
</ul>

<h4>В. Правила за корекцију ефективне каматне стопе приликом уплате додатних средстава</h4>
Правила која дефинишу начин на који се коригује ефективна каматна стопа, у зависности од претходног стања рачуна и количине саме уплате. За сваку подгрупу правила довољно је да је један од услова задовољен.
<h5>Камата се умањује за 3%</h5>
<ul>
	<li>
	Уплата износи више од 18% износа новоизрачунате главнице.
	</li>
	<li>
	Стање на динарском рачуну износи више од 330000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 3300 јединица одабране валуте.
	</li>
</ul>
<h5>Камата се умањује за 2.5%</h5>
<ul>
	<li>
	Уплата износи више од 15% износа новоизрачунате главнице.
	</li>
	<li>
	Стање на динарском рачуну износи више од 270000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 2700 јединица одабране валуте.
	</li>
</ul>
<h5>Камата се умањује за 2%</h5>
<ul>
	<li>
	Уплата износи више од 10% износа новоизрачунате главнице.
	</li>
	<li>
	Стање на динарском рачуну износи више од 220000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 2200 јединица одабране валуте.
	</li>
</ul>
<h5>Камата се умањује за 1.5%</h5>
<ul>
	<li>
	Уплата износи више од 5% износа новоизрачунате главнице.
	</li>
	<li>
	Стање на динарском рачуну износи више од 180000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 1800 јединица одабране валуте.
	</li>
</ul>
<h5>Камата се умањује за 1%</h5>
<ul>
	<li>
	Уплата износи не више од 5% износа новоизрачунате главнице.
	</li>
	<li>
	Стање на динарском рачуну износи не више од 180000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи не више од 1800 јединица одабране валуте.
	</li>
</ul>

<h4>Г. Дијаграм повезивања правила за уплату средстава</h4>
Групу правила за уплату средстава на штедни рачун чини четири слоја - слој за откривање недозвољених ситуација, слој за обрачун средстава на главном рачуну, слој за корекцију главнице штедног рачуна и слој за корекцију ефективне каматне стопе. Слојеви се повезују редоследом којим су наведени, што се види на слици испод. Прво се извршавају правила која проверавају да ли се десила нека од недозвољених ситуација. Уколико није, позива се други слој који умањује стање на главном рачуну. Потом се позивају правила за корекцију главнице, а потом правила за корекцију ефективне каматне стопе. На излазу из сва четири слоја налази се рачун са новим вредностима главнице и каматне стопе, уколико се није десила нека забрањена ситуација. Уколико се десила, на излазу ће се наћи одговарајућа порука о грешци, а која ће се приказати кориснику.
<br><br>
<div align="center">
  <img src="https://github.com/draganagrbic998/sbnz/blob/main/diagram3.png" alt="drawing"/>
</div>

<h3>4. Правила за продужење орочења штедног рачуна</h3>
Група правила која дефинишу предуслове за продужење орочења активног рачуна, као и начине корекције каматне стопе приликом одобреног продужења.

<h4>А. Противуслови продужења орочења</h4>
Правила која дефинишу недозвољене ситуације приликом захтева за продужењем орочења. Уколико је бар једна од ситуација задовољена, продужетак ће бити спречен.
<h5>Продужење орочења је онемогућено у следећим случајевима:</h5>
<ul>
	<li>
	Корисник је одабрао мање од 3 месеца продужења.
	</li>
	<li>
	Корисник је одабрао више од 24 месеца продужења.
	</li>
	<li>
	Корисник је одабрао динарску штедњу са минималним периодом орочења од 3 месеца.
	</li>
	<li>
	Корисник је одабрао динарску штедњу са периодом орочења од барем 42 месеца.
	</li>
	<li>
	Корисник је одабрао девизну штедњу са минималним периодом орочења од 1 месеца.
	</li>
	<li>
	Корисник је одабрао девизну штедњу са периодом орочења од барем 36 месеци.
	</li>
	<li>
	Корисник је одабрао динарску штедњу са главницом мањом од 75000 РСД.
	</li>
	<li>
	Корисник је одабрао девизну штедњу са главницом мањом од 750 јединица одабране валуте.
	</li>
</ul>
<h5>Онемогућено је продужење орочења на више од 18 месеци уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарску штедњу са главницом мањом од 250000 РСД.
	</li>
	<li>
	Корисник је одабрао девизну штедњу са главницом мањом од 2500 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабран рачун већ једном продужио.
	</li>
</ul>
<h5>Онемогућено је продужење орочења на више од 12 месеци уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарску штедњу са главницом мањом од 200000 РСД.
	</li>
	<li>
	Корисник је одабрао девизну штедњу са главницом мањом од 2000 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабран рачун већ 2 пута продужио.
	</li>
</ul>
<h5>Онемогућено је продужење орочења на више од 9 месеци уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарску штедњу са главницом мањом од 150000 РСД.
	</li>
	<li>
	Корисник је одабрао девизну штедњу са главницом мањом од 1500 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабран рачун већ 3 пута продужио.
	</li>
</ul>
<h5>Онемогућено је продужење орочења на више од 6 месеци уколико:</h5>
<ul>
	<li>
	Корисник је одабрао динарску штедњу са главницом мањом од 100000 РСД.
	</li>
	<li>
	Корисник је одабрао девизну штедњу са главницом мањом од 1000 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабран рачун већ 5 пута продужио.
	</li>
</ul>

<h4>Б. Правила за корекцију ефективне каматне стопе приликом продужења орочења</h4>
Правила која дефинишу начин на који се коригује ефективна каматна стопа приликом одобреног продужења орочења. За сваку подгрупу правила довољно је да је један од услова задовољен.
<h5>Камата се увећава за 2.5%</h5>
<ul>
	<li>
	Орочење је продужено за више од 16 месеци.
	</li>
	<li>
	Стање на динарском рачуну износи више од 270000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 2700 јединица одабране валуте.
	</li>
</ul>
<h5>Камата се увећава за 2%</h5>
<ul>
	<li>
	Орочење је продужено за више од 13 месеци.
	</li>
	<li>
	Стање на динарском рачуну износи више од 220000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 2200 јединица одабране валуте.
	</li>
</ul>
<h5>Камата се увећава за 1.5%</h5>
<ul>
	<li>
	Орочење је продужено за више од 9 месеци.
	</li>
	<li>
	Стање на динарском рачуну износи више од 170000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 1700 јединица одабране валуте.
	</li>
</ul>
<h5>Камата се увећава за 1%</h5>
<ul>
	<li>
	Орочење је продужено за више од 5 месеци.
	</li>
	<li>
	Стање на динарском рачуну износи више од 120000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи више од 1200 јединица одабране валуте.
	</li>
</ul>
<h5>Камата се увећава за 0.5%</h5>
<ul>
	<li>
	Орочење је продужено за не више од 5 месеци.
	</li>
	<li>
	Стање на динарском рачуну износи не више од 120000 РСД.
	</li>
	<li>
	Стање на девизном рачуну износи не више од 1200 јединица одабране валуте.
	</li>
</ul>

<h4>В. Дијаграм повезивања правила за продужење орочења</h4>
Групу правила за продужење орочења чини три слоја - слој за откривање недозвољених ситуација, слог који продужава период орочења и слој за корекцију ефективне каматне стопе. Слојеви су повезани радоследом којим су наведени, што се види на слици сипод. Прво се извршавају правила која проверавају да ли се десила недозвољена ситуација. Уколико није, позива се слој који продужава период орочења, а после њега се позивају правила која коригују каматну стопу рачуна. На излази из сва три слоја ће се наћи рачун са новом вредношћу каматне стопе и новим периодом орочења. Уколико се десила нека забрањена ситуација, на излазу ће се наћи порука о грешци, која се потом може приказати кориснику.
<br><br>
<div align="center">
  <img src="https://github.com/draganagrbic998/sbnz/blob/main/diagram4.png" alt="drawing"/>
</div>

<h3>5. Правила за гашење штедног рачуна</h3>
Правила која дефинишу недозвољене ситуације у случају захтева за гашењем рачуна. Уколико је бар једна од ситуација задовољена, гашење рачуна биће спречено.

<h4>А. Противуслови гашења штедног рачуна</h4>
<h5>Гашење штедног рачуна је онемогућено у следећим случајевима:</h5>
<ul>
	<li>
	Прошло је мање од 20% периода орочења.
	</li>
	<li>
	Прошло је више од 80% периода орочења.
	</li>
	<li>
	Главница динарског рачуна износи мање од 20000 РСД.
	</li>
	<li>
	Главница девизног рачуна износи мање од 200 јединица одабране валуте.
	</li>
	<li>
	Корисник је одабрао једини активни динарски рачун.
	</li>
	<li>
	Корисник је одабрао једини активни девизни рачун.
	</li>
	<li>
	Корисник је одабрао динарски рачун, а већ му је забележено превремено гашење 6 динарских рачуна.
	</li>
	<li>
	Корисник је одабрао девизни рачун, а већ му је забележено превремено гашење 4 девизна рачуна.
	</li>
</ul>

<h4>Б. Дијаграм повезивања правила за гашење штедног рачуна</h4>
Групу правила за гашење штедног рачуна чине два слоја - слој за отркивање недозвољених ситуација и слој који врши само гашење рачуна. Први слој је описан претходним правилима и он позива други само ако се није десила нека недозвољена ситуација. Ако се десила, корисник се обавештава о неуспеху. У супротном, позива се други слој и он прекида важење штедног рачуна.
<br><br>
<div align="center">
  <img src="https://github.com/draganagrbic998/sbnz/blob/main/diagram5.png" alt="drawing"/>
</div>
